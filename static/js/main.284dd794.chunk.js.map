{"version":3,"sources":["Button.module.scss","MeetupLogo.module.scss","EmptyColumn.module.scss","useStream.js","EventList.js","Button.js","meetup.svg","MeetupLogo.js","EmptyColumn.js","StreamingColumn.js","Member.js","Bubble.js","Comment.js","Photo.js","WorldMap.js","RsvpStream.js","App.js","serviceWorker.js","index.js","Comment.module.scss","StreamingColumn.module.scss","Photo.module.scss","Member.module.css","RsvpStream.module.scss","Bubble.module.scss","WorldMap.module.scss","App.module.css"],"names":["module","exports","root","ids","photos","comments","rsvp","useStream","path","max","arguments","length","undefined","_useState","useState","_useState2","Object","slicedToArray","latestMessage","saveMessage","_useState3","_useState4","messageList","setMessageList","useEffect","oldMessages","newMessages","_","compact","concat","slice","window","__sockets__","onopen","console","log","onclose","event","code","JSON","stringify","addEventListener","message","parse","data","id","EventList","_ref","RenderComponent","rowHeight","containerHeight","containerWidth","getListRef","getScrolledToBottomRef","noRowsRenderer","otherProps","objectWithoutProperties","scrolledToBottom","useRef","listRef","latestMessageRef","takeRight","current","listProps","rowCount","height","width","style","scrollBehavior","scrollToAlignment","onRowsRendered","_ref2","stopIndex","latestId","get","rowRenderer","_ref3","index","key","react_default","a","createElement","assign","scrollToIndex","es","ref","Button","onClick","children","disabled","type","className","styles","_extends","target","i","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","meetup_ref2","fill","d","meetup_SvgMeetup","svgRef","props","x","y","viewBox","enableBackground","xmlSpace","ForwardRef","forwardRef","__webpack_require__","p","MeetupLogo","EmptyColumn","title","StreamingColumn","socketKey","header","src_MeetupLogo","src_Button","scrollToRow","list","src_EventList","photoWidth","src_EmptyColumn","Member","_ref$member","member","memberName","member_name","memberPhoto","photo","react","src","alt","name","Bubble","comment","bubbleLeft","bubbleRight","react_dotdotdot_src_default","clamp","Comment","_classNames","city","eventName","eventLocation","dateTime","Date","mtime","toLocaleString","classNames","defineProperty","commentLeft","commentRight","src_Member","src_Bubble","Photo","photo_link","footer","LAND_COLORS","getCoordinates","coordinates","venue","push","lon","lat","group","group_lon","group_lat","WorldMap","tooltipRef","tooltip","create","lib","projection","zoom","center","geography","process","geographies","map","random","stroke","strokeWidth","outline","cacheId","default","hover","pressed","marker","onMouseEnter","_len","args","Array","_key","evt","show","attending","response","event_name","position","pageX","pageY","onMouseLeave","_len2","_key2","hide","cx","cy","r","href","event_url","rel","clipPath","xlinkHref","background","cursor","CHICAGO","RsvpStream","mapCenter","setMapCenter","snapToEvent","setSnapToEvent","snapTimeout","setTimeout","mapContainer","toggle","checked","onChange","prevValue","react_motion","defaultStyle","spring","stiffness","damping","src_WorldMap","WebSocket","App","columns","src_StreamingColumn","src_RsvpStream","Boolean","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","buttonContainer","button","mapLabel"],"mappings":"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","file":"static/js/main.284dd794.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Button_root__19QN9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MeetupLogo_root__3kSyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"EmptyColumn_root__3nQAi\"};","import { useState, useEffect } from 'react'\n\nimport _ from 'lodash'\n\nlet ids = {\n  photos: 0,\n  comments: 0,\n  rsvp: 0,\n}\nconst DEFAULT_MAX_MESSAGES = 1000\n\nconst useStream = (path, max = DEFAULT_MAX_MESSAGES) => {\n  const [latestMessage, saveMessage] = useState()\n  const [messageList, setMessageList] = useState([])\n\n  useEffect(() => {\n    setMessageList(oldMessages => {\n      const newMessages = _.compact(oldMessages.concat(latestMessage))\n      return newMessages.length > max\n        ? newMessages.slice(1)\n        : newMessages\n    })\n  }, [latestMessage])\n\n  const initSocket = () => {\n    window.__sockets__[path].onopen = () => console.log(`${path} socket open`)\n    window.__sockets__[path].onclose = (event, code) =>\n      console.log(`${path} socket closed: ${JSON.stringify(event)}`)\n    window.__sockets__[path].addEventListener('message', message =>\n      saveMessage({\n        message: JSON.parse(message.data),\n        id: ids[path]++,\n      })\n    )\n  }\n\n  useEffect(() => {\n    initSocket()\n  }, [])\n\n  return { messageList }\n}\n\nexport default useStream","import React, { useRef, useEffect } from 'react'\n\nimport _ from 'lodash'\n\nimport { List } from 'react-virtualized'\n\nconst EventList = ({\n  messageList,\n  RenderComponent,\n  rowHeight,\n  containerHeight,\n  containerWidth,\n  getListRef,\n  getScrolledToBottomRef,\n  noRowsRenderer,\n  ...otherProps\n}) => {\n  const scrolledToBottom = useRef(true)\n  const listRef = useRef()\n  const latestMessageRef = useRef(_.takeRight(messageList))\n\n  useEffect(() => {\n    latestMessageRef.current = _.takeRight(messageList)\n  }, [messageList])\n\n  const listProps = {\n    rowHeight,\n    rowCount: messageList.length,\n    height: containerHeight,\n    width: containerWidth,\n    style: { scrollBehavior: 'smooth' },\n    scrollToAlignment: 'end',\n    noRowsRenderer,\n    onRowsRendered: ({ stopIndex }) => {\n      const latestId = _.get(latestMessageRef, 'current[0].id')\n      scrolledToBottom.current = stopIndex === latestId\n      getScrolledToBottomRef(scrolledToBottom.current)\n    },\n    rowRenderer: ({ index, key, style }) =>\n      messageList[index] ? (\n        <RenderComponent\n          message={messageList[index].message}\n          index={index}\n          style={style}\n          key={messageList[index].id}\n          {...otherProps}\n        />\n      ) : null,\n  }\n\n  getListRef(listRef.current)\n\n  if (scrolledToBottom.current && messageList.length) {\n    listProps.scrollToIndex = messageList.length - 1\n  }\n\n  return <List {...listProps} ref={listRef} />\n}\n\nexport default EventList","import React from 'react'\n\nimport styles from './Button.module.scss'\n\nconst Button = ({ onClick, children, disabled }) => (\n  <button\n    onClick={onClick}\n    type=\"button\"\n    className={styles.root}\n    disabled={disabled}\n  >\n    {children}\n  </button>\n)\n\nexport default Button","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"#F64060\",\n  d: \"M3283.748,1072.614c-7.664,11.584-12.557,19.528-17.893,27.18 c-49.844,71.39-105.776,136.571-182.021,181.676c-102.199,60.419-212.97,85.341-328.428,60.315 c-59.242-12.853-114.359-46.009-170.154-72.463c-12.86-6.069-19.889-6.223-31.32,0.524c-47.857,28.227-94.404,59.867-145.076,81.812 c-89.938,38.936-184.639,60.752-282.521,34.857c-61.352-16.232-114.425-50.798-162.374-92.377 c-34.004-29.479-36.188-29.453-70.677-1.086c-62.014,51.031-133.607,83.935-208.522,111.116 c-92.929,33.748-188.767,54.427-286.788,64.135c-119.596,11.841-230.494-8.47-311.427-106.782 c-64.874-78.774-82.223-170.154-42.536-265.149c43.469-104.014,93.732-205.229,140.932-307.659 c24.611-53.367,49.382-106.683,73.253-160.368c4.366-9.862,6.131-21.368,6.629-32.254c0.934-20.015,5.007-41.936-18.136-53.979 c-23.645-12.263-51.543-10.052-68.875,11.879c-21.728,27.438-40.951,57.492-57.123,88.557 c-53.572,102.827-105.403,206.599-157.659,310.1c-39.201,77.61-77.65,155.565-117.208,232.974 c-37.479,73.422-107.924,101.396-184.27,72.845c-25.715-9.655-41.845-28.624-46.178-57.479 c-6.13-40.938,7.294-77.599,21.817-114.246c31.716-80.164,63.843-160.177,95.546-240.367 c16.977-42.995,33.965-86.026,49.904-129.417c11.166-30.339,14.521-62.515,1.496-92.316c-10.08-22.977-29.918-39.582-57.748-37.116 c-30.392,2.695-54.302,18.572-65.759,46.79c-40.312,99.527-78.979,199.708-118.641,299.492 c-47.438,119.435-94.088,239.194-143.505,357.821c-18.292,43.838-45.883,83.755-92.305,102.518 c-23.5,9.528-50.106,15.42-75.411,15.775c-78.952,1.034-147.138-25.342-193.707-92.351c-37.03-53.29-46.087-112.598-28.19-175.339 c16.551-58.082,33.105-116.161,50.467-174.014c16.451-54.822,33.939-109.351,51.016-164.008 c15.916-50.889,30.796-102.163,48.054-152.591c33.964-99.273,61.352-201.523,115.176-292.585 c36.825-62.308,96.479-95.994,164.893-116.891c71.528-21.816,132.46,5.648,193.528,36.035c23.158,11.493,46.01,23.784,69.779,33.797 c33.161,13.923,63.396,5.109,90.181-16.707c21.921-17.845,44.042-35.676,64.248-55.409c50.48-49.281,159.529-58.413,212.819-1.062 c12.274,13.207,26.758,24.348,40.312,36.316c27.896,24.64,39.431,27.154,71.707,8.94c76.756-43.339,156.27-37.338,234.432-9.556 c45.345,16.134,72.488,54.657,89.82,100.283c25.494,67.175,14.806,132.039-10.741,195.179 c-46.994,116.158-98.179,230.597-144.034,347.19c-27.18,69.167-50.134,140.288-69.666,211.974 c-7.955,29.214-8.007,63.854-0.586,93.206c11.228,44.429,51.922,58.986,93.08,64.2c62.677,7.945,124.181-3.704,184.229-20.311 c51.284-14.127,101.777-31.563,151.862-49.663c24.166-8.736,46.687-22.147,69.754-33.861c19.733-9.978,21.257-24.587,10.858-42.957 c-21.243-37.489-43.585-74.507-62.298-113.286c-39.57-81.967-72.13-166.551-63.444-260.025 c7.588-81.814,37.133-152.871,112.622-195.932c111.446-63.521,201.883-45.982,283.798,48.922 c70.842,82.097,94.204,180.921,63.791,286.801c-17.015,59.203-41.359,116.428-64.582,173.681 c-6.426,15.852-2.696,26.006,7.333,35.342c46.916,43.824,100.41,77.867,159.794,101.955c22.391,9.122,46.062,15.916,69.793,20.683 c51.041,10.229,98.393-1.918,140.914-30.76c20.248-13.72,20.691-26.541,6.643-45.688 c-97.806-133.395-136.521-281.87-107.131-445.024c11.012-61.083,39.267-118.779,104.833-136.368 c40.529-10.884,86.334-10.424,128.476-5.058c68.488,8.71,130.514,36.045,172.59,95.009c50.48,70.751,63.37,148.182,41.645,232.766 c-15.599,60.752-47.467,112.433-82.557,162.631c-13.896,19.901-14.432,38.244,4.512,51.553 c29.173,20.502,58.82,42.981,91.787,54.852c71.634,25.776,145.963,23.528,218.131,0.331 c78.966-25.434,134.451-77.814,166.094-155.54c37.794-92.951,38.255-190.312,36.34-288.025 c-1.521-76.349-4.189-152.691-6.452-229.065c-0.804-27.271-5.196-28.854-31.194-23.565 c-68.488,13.836-137.322,26.084-206.056,38.652c-21.678,3.935-43.547,6.604-65.211,10.512c-47.221,8.496-86.18-10.906-88.849-66.141 c-2.722-55.665-10.78-111.064-16.503-166.604c-0.334-3.126-0.59-6.27-0.755-9.426c-3.195-65.359,12.621-100.909,91.088-98.061 c81.033,2.978,162.066,5.647,242.999,9.899c39.812,2.07,53.813-7.958,56.433-47.464c2.02-30.67,2.875-61.364,4.789-92.021 c2.875-45.982,13.359-56.905,60.071-55.078c27.925,1.099,55.986,5.966,83.298,12.109c38.459,8.648,58.616,35.728,61.284,73.982 c2.16,31.346,1.254,62.936,0.757,94.383c-0.41,22.251,6.5,34.194,31.445,36.712c72.005,7.33,143.727,17.346,215.579,25.877 c33.927,4.038,52.966,17.771,57.554,42.996c7.959,43.812-1.51,73.816-34.578,85.786c-46.254,16.732-94.074,29.48-141.896,41.269 c-33.466,8.266-68.134,11.804-102.148,18.052c-22.825,4.177-35.229,16.169-35.024,41.845c0.854,126.786-2.019,253.688,1.662,380.353 c1.914,66.471,11.892,133.033,40.209,195.123c22.875,50.289,61.938,70.101,116.265,60.991 c79.717-13.373,152.792-41.371,216.444-91.812c35.319-27.986,58.552-62.233,60.313-109.531 c3.183-86.552,7.459-173.077,12.541-259.502c1.471-24.934,4.297-50.788,12.609-74.047c4.635-12.903,21.562-29.966,33.351-30.312 c65.116-1.968,130.676-2.618,195.485,3.003c40.771,3.524,68.778,41.667,66.621,84.828c-2.922,60.428-10.737,120.642-16.487,180.946 c-7.103,74.403-13.651,148.858-21.56,223.161c-8.01,75.211,52.148,112.507,111.672,113.235c49.935,0.6,79.414-18.035,100.631-70.878 c21.97-54.696,35.027-113.99,44.502-172.469c13.402-83.024,19.746-167.188,29.635-250.791c4.025-34.144,25.34-60.393,51.847-66.089 c30.646-6.578,70.853,5.853,80.884,33.864c8.417,23.411,6.5,52.013,3.57,77.686c-10.828,95.214-26.446,189.952-35.365,285.355 c-5.494,58.604,27.361,100.323,84.299,117.643c28.373,8.609,57.801,15.417,87.185,18.815c51.604,5.901,88.147-31.769,98.927-90.423 c9.124-49.317,10.336-100.094,14.77-150.252c5.186-59.563,5.938-119.892,16.117-178.596c14.971-86.91,71.11-165.747,175.125-191.041 c62.434-15.199,125.379-17.012,187.715-9.809c95.045,10.933,194.463,75.541,224.852,184.716 c23.077,83,13.906,163.178-13.246,243.024c-31.451,92.529-88.941,164.636-169.223,219.549c-7.412,5.059-11.742,14.663-17.438,22.174 c10.077,4.458,20.258,12.925,30.29,12.747c95.952-1.468,186.444-23.414,269.3-73.675c18.695-11.318,39.059-19.89,58.805-29.279 c18.142-8.596,28.832,1.585,23.785,17.232c-8.42,26.224-18.549,53.893-35.319,75.079c-71.008,89.761-167.865,132.794-279.89,140.331 c-47.518,3.191-95.746-3.156-143.623-5.801c-36.137-2.02-72.207-5.161-108.342-7.611c-18.34-1.201-28.93,6.5-33.519,25.456 c-28.767,118.729-43.99,239.46-58.908,360.516c-9.416,76.218-23.635,152.18-41.871,226.765 c-9.876,40.465-41.476,68.363-85.226,75.414c-26.149,4.213-45.5-7.104-54.275-31.476c-7.395-20.551-14.303-42.124-16.064-63.659 c-8.627-106.288-5.101-212.319,9.015-318.096c7.155-53.814,11.942-107.935,18.088-161.865c4.342-37.514,9.992-74.902,13.519-112.493 c2.768-30.361-4.142-37.528-33.213-43.312c-60.127-11.995-120.285-23.786-180.153-37.043c-40.672-9.044-72.376,5.362-99.942,33.389 c-36.629,37.26-77.1,69.641-125.127,90.576c-58.002,25.303-119.481,19.988-179.143,10.536 c-86.069-13.705-154.814-58.959-203.686-131.577c-15.179-22.53-26.162-47.95-38.055-72.516 c-6.654-13.755-12.644-19.106-28.773-10.881c-57.203,29.124-114.193,59.025-173.244,83.972 c-65.771,27.797-135.566,37.565-205.46,18.075c-68.134-19.034-120.39-62.896-163.78-117.72 C3313.23,1110.512,3301.787,1095.72,3283.748,1072.614z M5246.166,799.954c-0.752-9.426-0.752-18.917-2.314-28.19 c-8.722-53.701-62.641-77.737-106.08-45.356c-19.643,14.636-37.49,33.859-50.893,54.427 c-44.754,68.604-64.961,147.199-85.168,225.358c-5.086,19.633-8.625,40.391-8.217,60.545c0.759,37.542,22.832,48.578,54.275,28.294 c65.26-42.102,113.598-100.5,154.405-165.416C5226.971,890.182,5247.279,848.581,5246.166,799.954z M2685.396,837.826 c0.573-37.312-8.137-71.837-35.615-98.673c-15.234-14.87-34.281-21.345-56.124-14.536c-26.492,8.211-40.812,27.87-42.804,60.493 c-3.855,63.2,23.287,117.502,51.223,170.957c14.384,27.528,28.051,26.657,46.634,1.216 C2674.704,921.708,2684.846,881.268,2685.396,837.826z M2041.107,825.755c-6.908-22.854-11.479-46.789-21.345-68.312 c-12.595-27.388-45.062-39.713-73.776-32.202c-30.389,7.972-42.406,22.456-39.253,59.894c2.772,32.585,10.259,65.081,18.93,96.732 c6.36,23.262,16.159,46.061,27.743,67.252c15.586,28.547,31.871,28.829,47.198,1.188 C2021.73,912.255,2038.056,872.29,2041.107,825.755z\"\n});\n\nvar SvgMeetup = function SvgMeetup(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"5573.111px\",\n    height: \"1990.154px\",\n    viewBox: \"0 0 5573.111 1990.154\",\n    enableBackground: \"new 0 0 5573.111 1990.154\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMeetup, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/meetup.aae54d55.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { ReactComponent as Logo } from './meetup.svg'\n\nimport styles from './MeetupLogo.module.scss'\n\nconst MeetupLogo = () => (\n  <span className={styles.root}>\n    <Logo height={'100%'} width={60} />\n  </span>\n)\n\nexport default MeetupLogo","import React from 'react'\n\nimport styles from './EmptyColumn.module.scss'\n\nconst EmptyColumn = ({ title }) => (\n  <div className={styles.root}>{title} will display here...</div>\n)\n\nexport default EmptyColumn\n","import React, { useRef } from 'react'\n\nimport { AutoSizer } from 'react-virtualized'\n\nimport useStream from './useStream'\nimport EventList from './EventList'\nimport Button from './Button'\nimport MeetupLogo from './MeetupLogo'\nimport EmptyColumn from './EmptyColumn'\n\nimport styles from './StreamingColumn.module.scss'\n\nconst StreamingColumn = ({ rowHeight, RenderComponent, socketKey, title }) => {\n  const { messageList } = useStream(socketKey)\n  const listRef = useRef()\n  const scrolledToBottom = useRef()\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.header}>\n        <div className={styles.title}>\n          <MeetupLogo />\n          {title}\n        </div>\n        <Button\n          disabled={scrolledToBottom.current}\n          onClick={() => {\n            listRef.current.scrollToRow(messageList.length - 1)\n          }}\n        >\n          {scrolledToBottom.current ? 'All caught up' : 'Jump to latest'}\n        </Button>\n      </div>\n      <div className={styles.list}>\n        <AutoSizer>\n          {({ height, width }) => (\n            <EventList\n              messageList={messageList}\n              rowHeight={rowHeight}\n              containerHeight={height}\n              containerWidth={width}\n              RenderComponent={RenderComponent}\n              photoWidth={width}\n              getListRef={ref => {\n                listRef.current = ref\n              }}\n              noRowsRenderer={() => <EmptyColumn title={title} />}\n              getScrolledToBottomRef={ref => {\n                scrolledToBottom.current = ref\n              }}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    </div>\n  )\n}\n\nexport default StreamingColumn","import * as React from 'react'\n\nimport styles from './Member.module.css'\n\nconst Member = ({ member: { member_name: memberName, photo: memberPhoto } }) => (\n  <div className={styles.root}>\n    <img src={memberPhoto} className={styles.photo} alt={`Avatar for ${memberName}`} />\n    <div className={styles.name}>{memberName}</div>\n  </div>\n)\n\nexport default Member","import * as React from 'react'\n\nimport Dotdotdot from 'react-dotdotdot'\n\nimport styles from './Bubble.module.scss'\n\nconst Bubble = ({ comment, index }) => (\n  <div className={index % 2 === 0 ? styles.bubbleLeft : styles.bubbleRight}>\n    <Dotdotdot clamp=\"auto\">\n      {comment}\n    </Dotdotdot>\n  </div>\n)\n\nexport default Bubble","import * as React from 'react'\n\nimport classNames from 'classnames'\nimport _ from 'lodash'\n\nimport Member from './Member'\nimport Bubble from './Bubble'\n\nimport styles from './Comment.module.scss'\n\nexport const COMMENT_HEIGHT = 170\n\nconst Comment = ({ message, index, style }) => {\n  const city = _.get(message, 'group.city')\n  const eventName = _.get(message, 'event.event_name')\n\n  return (\n    <div style={style}>\n      <div className={styles.title}>\n        <div className={styles.eventName}>\n          {`${eventName}, `}\n        </div>\n        <div className={styles.eventLocation}>\n          {city}\n        </div>\n        <div className={styles.dateTime}>\n          {new Date(message.mtime).toLocaleString()}\n        </div>\n      </div>\n      <div\n        className={classNames({\n          [styles.commentLeft]: index % 2 === 0,\n          [styles.commentRight]: index % 2 !== 0,\n        })}\n      >\n        <Member member={message.member} />\n        <Bubble comment={message.comment} index={index} />\n      </div>\n    </div>\n  )\n}\n\nexport default Comment","import * as React from 'react'\nimport _ from 'lodash'\n\nimport styles from './Photo.module.scss'\n\nexport const PHOTO_HEIGHT = 545\n\nconst Photo = ({ message, photoWidth, style }) => (\n  <div style={style} className={styles.root}>\n    <div className={styles.header}>\n      {_.get(message, 'photo_album.event.name')}\n    </div>\n    <img\n      className={styles.photo}\n      src={message.photo_link}\n      alt={_.get(message, 'photo_album.event.name')}\n    />\n    <div className={styles.footer}>\n      <span>{new Date(message.mtime).toLocaleString()}</span>\n      <span>by {_.get(message, 'member.name')}</span>\n    </div>\n  </div>\n)\n\nexport default Photo\n","import React, { useEffect, useRef } from 'react'\nimport _ from 'lodash'\n\nimport styles from './WorldMap.module.scss'\n\nimport {\n  ComposableMap,\n  ZoomableGroup,\n  Geographies,\n  Geography,\n  Markers,\n  Marker,\n} from 'react-simple-maps'\nimport tooltip from 'wsdm-tooltip'\n\nconst LAND_COLORS = ['#09BC8A', '#92AA83', '#79B473', '#86BAA1', '#A0E8AF']\n\nexport const getCoordinates = rsvp => {\n  const coordinates = []\n  if (rsvp.venue) {\n    coordinates.push(rsvp.venue.lon, rsvp.venue.lat)\n  } else {\n    coordinates.push(rsvp.group.group_lon, rsvp.group.group_lat)\n  }\n  return coordinates\n}\n\nconst WorldMap = ({ height, width, x, y, messageList }) => {\n  const tooltipRef = useRef()\n  useEffect(() => {\n    tooltipRef.current = tooltip()\n    tooltipRef.current.create()\n  }, [])\n\n  const handleMouseEnter = (rsvp, marker, evt) => {\n    tooltipRef.current.show(`\n      <div class=\"${styles.tooltip}\">\n        ${rsvp.member.member_name}\n        <span class=\"${styles.attending}\">\n          ${rsvp.response === 'yes' ? 'will' : \"won't\"}\n        </span>\n        attend ${rsvp.event.event_name}\n      </div>\n    `)\n    tooltipRef.current.position({ pageX: evt.pageX, pageY: evt.pageY })\n  }\n  const handleMouseLeave = marker => {\n    tooltipRef.current.hide()\n  }\n\n  return (\n    <ComposableMap height={height} width={width} projection=\"miller\">\n      <ZoomableGroup zoom={6} center={[x, y]}>\n        <Geographies geography={`${process.env.PUBLIC_URL}/world-50m.json`}>\n          {(geographies, projection) =>\n            geographies.map((geography, i) => {\n              const style = {\n                fill: LAND_COLORS[_.random(0, LAND_COLORS.length - 1)],\n                stroke: '#FFF',\n                strokeWidth: 0.5,\n                outline: 'none',\n              }\n              return (\n                <Geography\n                  key={`geography-${i}`}\n                  cacheId={`geography-${i}`}\n                  geography={geography}\n                  projection={projection}\n                  style={{\n                    default: style,\n                    hover: style,\n                    pressed: style,\n                  }}\n                />\n              )\n            })\n          }\n        </Geographies>\n        <Markers>\n          {messageList.map(rsvp => {\n            const { message, id } = rsvp\n            const coordinates = getCoordinates(message)\n            return (\n              <Marker\n                key={id}\n                marker={{ coordinates }}\n                onMouseEnter={(...args) =>\n                  handleMouseEnter(rsvp.message, ...args)\n                }\n                onMouseLeave={(...args) =>\n                  handleMouseLeave(rsvp.message, ...args)\n                }\n              >\n                <defs>\n                  <clipPath id=\"circleView\">\n                    <circle cx=\"40\" cy=\"40\" r=\"30\" fill=\"#FFFFFF\" />\n                  </clipPath>\n                </defs>\n                <g>\n                  <a\n                    href={rsvp.message.event.event_url}\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\"\n                  >\n                    <circle\n                      cx=\"40\"\n                      cy=\"40\"\n                      r=\"35\"\n                      fill={message.response === 'yes' ? 'green' : 'red'}\n                    />\n                    <image\n                      clipPath=\"url(#circleView)\"\n                      xlinkHref={_.get(message, 'member.photo')}\n                      width={80}\n                      height={80}\n                      style={{ background: 'white', cursor: 'pointer' }}\n                    />\n                  </a>\n                </g>\n              </Marker>\n            )\n          })}\n        </Markers>\n      </ZoomableGroup>\n    </ComposableMap>\n  )\n}\n\nexport default WorldMap","import React, { useState, useEffect, useRef } from 'react'\nimport _ from 'lodash'\n\nimport { AutoSizer } from 'react-virtualized'\nimport { Motion, spring } from 'react-motion'\n\nimport MeetupLogo from './MeetupLogo'\nimport WorldMap from './WorldMap'\nimport useStream from './useStream'\n\nimport { getCoordinates } from './WorldMap'\n\nimport styles from './RsvpStream.module.scss'\n\nconst CHICAGO = [-87, 41]\nconst MINIMUM_SNAP_INTERVAL = 2000\n\nconst RsvpStream = () => {\n  const { messageList } = useStream('rsvp', 25)\n  const [mapCenter, setMapCenter] = useState(CHICAGO)\n  const [snapToEvent, setSnapToEvent] = useState(true)\n  const snapTimeout = useRef(false)\n\n  useEffect(() => {\n    const latestMessage = _.takeRight(messageList)[0]\n    if (!latestMessage || !snapToEvent) return\n    if (!snapTimeout.current) {\n      setMapCenter(getCoordinates(latestMessage.message))\n      snapTimeout.current = window.setTimeout(\n        () => (snapTimeout.current = false),\n        MINIMUM_SNAP_INTERVAL\n      )\n    }\n  }, [messageList])\n  return (\n    <div className={styles.mapContainer}>\n      <div className={styles.title}>\n        <MeetupLogo /> RSVPs\n        <label className={styles.toggle}>\n          <input\n            type=\"checkbox\"\n            checked={snapToEvent}\n            onChange={() => setSnapToEvent(prevValue => !prevValue)}\n          />\n          Auto-center map on new events\n        </label>\n      </div>\n      <AutoSizer>\n        {({ height, width }) => (\n          <Motion\n            defaultStyle={{\n              x: mapCenter[0],\n              y: mapCenter[1],\n            }}\n            style={{\n              x: spring(mapCenter[0], { stiffness: 210, damping: 20 }),\n              y: spring(mapCenter[1], { stiffness: 210, damping: 20 }),\n            }}\n          >\n            {({ x, y }) => (\n              <WorldMap\n                x={x}\n                y={y}\n                height={height}\n                width={width}\n                messageList={messageList}\n              />\n            )}\n          </Motion>\n        )}\n      </AutoSizer>\n    </div>\n  )\n}\n\nexport default RsvpStream","import * as React from 'react'\n\nimport StreamingColumn from './StreamingColumn'\nimport Comment, { COMMENT_HEIGHT } from './Comment'\nimport Photo, { PHOTO_HEIGHT } from './Photo'\nimport RsvpStream from './RsvpStream'\n\nimport styles from './App.module.css'\n\nwindow.__sockets__ = {\n  comments: new WebSocket('wss://stream.meetup.com/2/event_comments'),\n  rsvp: new WebSocket('wss://stream.meetup.com/2/rsvps'),\n  photos: new WebSocket('wss://stream.meetup.com/2/photos'),\n}\n\nconst App = () => {\n  return (\n    <div className={styles.root}>\n      <div className={styles.columns}>\n        <StreamingColumn\n          title=\"Comments\"\n          rowHeight={COMMENT_HEIGHT}\n          socketKey=\"comments\"\n          RenderComponent={Comment}\n        />\n        <RsvpStream />\n        <StreamingColumn\n          title=\"Photos\"\n          rowHeight={PHOTO_HEIGHT}\n          socketKey=\"photos\"\n          RenderComponent={Photo}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commentLeft\":\"Comment_commentLeft__1vfNL\",\"commentRight\":\"Comment_commentRight__3aS2w\",\"title\":\"Comment_title__8MJma\",\"eventName\":\"Comment_eventName__C807I\",\"eventLocation\":\"Comment_eventLocation__1oj1p\",\"dateTime\":\"Comment_dateTime__3RxBa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"StreamingColumn_root__1cKUD\",\"title\":\"StreamingColumn_title__2PfBC\",\"header\":\"StreamingColumn_header__v67T8\",\"list\":\"StreamingColumn_list__1Gbp5\",\"buttonContainer\":\"StreamingColumn_buttonContainer__e-5Oy\",\"button\":\"StreamingColumn_button__1ef8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Photo_root__1jl3m\",\"photo\":\"Photo_photo__1oxXc\",\"header\":\"Photo_header__2zE1F\",\"footer\":\"Photo_footer__1lM7d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Member_root__LFcju\",\"photo\":\"Member_photo__1ipAh\",\"name\":\"Member_name__1xArU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapContainer\":\"RsvpStream_mapContainer__UfPX2\",\"mapLabel\":\"RsvpStream_mapLabel__3F2UQ\",\"title\":\"RsvpStream_title__2jnKi\",\"toggle\":\"RsvpStream_toggle__1CkCx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubbleLeft\":\"Bubble_bubbleLeft__2wWZI\",\"bubbleRight\":\"Bubble_bubbleRight__3yszd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"WorldMap_tooltip__29Biy\",\"attending\":\"WorldMap_attending__17sfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__1M4S6\",\"title\":\"App_title__1M0hr\",\"columns\":\"App_columns__fhulz\"};"],"sourceRoot":""}